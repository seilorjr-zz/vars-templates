parameters:
- name: environment
  type: string
  default: ''

stages:
- stage: deploy_${{ parameters.environment }}
  variables:          
      - template: vars-${{ parameters.environment }}.yml
  jobs:
  - deployment: DeploymentJob__${{ parameters.environment }}
    displayName: Deploy ${{ parameters.environment }}    
    environment: ${{ variables.environmentName }}
    strategy:    
      runOnce:
        deploy:
          steps:           
          - script: echo my first deployment
            
